// Button Customizations - SDGA Custom Enhancements
// Following Bootstrap 5.3 recommended practices

@use 'sass:color';

// ============================================
// BUTTON VARIANTS - Using Sass map and @each loop
// ============================================

// Define button variants with their CSS custom properties
$button-variants: (
  "neutral": (
    color: $white,
    bg: $neutral-950,
    border-color: $neutral-950,
    hover-color: $white,
    hover-bg: $neutral-800,
    hover-border-color: $neutral-800,
    active-color: $white,
    active-bg: $neutral-600,
    active-border-color: $neutral-600,
    disabled-color: $neutral-400,
    disabled-bg: $neutral-200,
    disabled-border-color: $neutral-200
  ),
  "primary": (
    color: $white,
    bg: $primary-600,
    border-color: $primary-600,
    hover-color: $white,
    hover-bg: $primary-700,
    hover-border-color: $primary-700,
    active-color: $white,
    active-bg: $primary-800,
    active-border-color: $primary-800,
    disabled-color: $white,
    disabled-bg: $primary-200,
    disabled-border-color: $primary-200
  ),
  "secondary": (
    color: $black,
    bg: $secondary-100,
    border-color: $secondary-100,
    hover-color: $black,
    hover-bg: $secondary-200,
    hover-border-color: $secondary-200,
    active-color: $black,
    active-bg: $secondary-200,
    active-border-color: $secondary-200,
    disabled-color: $secondary-400,
    disabled-bg: $secondary-200,
    disabled-border-color: $secondary-200
  ),
  "outline-secondary": (
    color: $black,
    border-color: $secondary-300,
    hover-color: $black,
    hover-bg: $secondary-100,
    hover-border-color: $secondary-200,
    active-color: $black,
    active-bg: $secondary-200,
    active-border-color: $secondary-300,
    disabled-color: $secondary-400,
    disabled-bg: transparent,
    disabled-border-color: $secondary-400
  ),
  "subtle": (
    color: $black,
    bg: transparent,
    border-color: transparent,
    hover-color: $black,
    hover-bg: transparent,
    hover-border-color: transparent,
    active-color: $black,
    active-bg: transparent,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "transparent": (
    color: $black,
    bg: transparent,
    border-color: transparent,
    hover-color: $primary-700,
    hover-bg: transparent,
    hover-border-color: transparent,
    active-color: $primary-900,
    active-bg: transparent,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-primary": (
    color: $white,
    bg: $error-600,
    border-color: transparent,
    hover-color: $white,
    hover-bg: $error-700,
    hover-border-color: transparent,
    active-color: $white,
    active-bg: $error-900,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-secondary": (
    color: $error-700,
    bg: $error-50,
    border-color: transparent,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: transparent,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-outline-secondary": (
    color: $error-700,
    bg: transparent,
    border-color: $error-200,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: $error-100,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-subtle": (
    color: $error-700,
    bg: transparent,
    border-color: transparent,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: transparent,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-transparent": (
    color: $error-600,
    bg: transparent,
    border-color: transparent,
    hover-color: $error-700,
    hover-bg: transparent,
    hover-border-color: transparent,
    active-color: $error-900,
    active-bg: transparent,
    active-border-color: transparent,
    disabled-color: $neutral-400,
    disabled-bg: transparent,
    disabled-border-color: transparent
  )
);

$on-primary-button-variants: (
  "neutral": (
    color: $black,
    bg: $white,
    border-color: transparent,
    hover-color: $black,
    hover-bg: rgba($white, 0.8),
    hover-border-color: transparent,
    active-color: $black,
    active-bg: rgba($white, 0.6),
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: rgba($white, 0.2),
    disabled-border-color: transparent
  ),
  "primary": (
    color: $black,
    bg: $white,
    border-color: transparent,
    hover-color: $black,
    hover-bg: rgba($white, 0.8),
    hover-border-color: transparent,
    active-color: $black,
    active-bg: rgba($white, 0.6),
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: rgba($white, 0.2),
    disabled-border-color: transparent
  ),
  "secondary": (
    color: $white,
    bg: rgba($white, 0.2),
    border-color: transparent,
    hover-color: $white,
    hover-bg: rgba($white, 0.2),
    hover-border-color: transparent,
    active-color: $white,
    active-bg: rgba($white, 0.4),
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: rgba($white, 0.2),
    disabled-border-color: transparent
  ),
  "outline-secondary": (
    color: $white,
    bg: transparent,
    border-color: rgba($white, 0.4),
    hover-color: $white,
    hover-bg: rgba($white, 0.2),
    hover-border-color: rgba($white, 0.4),
    active-color: $white,
    active-bg: rgba($white, 0.4),
    active-border-color: rgba($white, 0.4),
    disabled-color: rgba($white, 0.4),
    disabled-bg: transparent,
    disabled-border-color: rgba($white, 0.4)
  ),
  "subtle": (
    color: $white,
    bg: transparent,
    border-color: transparent,
    hover-color: $white,
    hover-bg: rgba($white, 0.2),
    hover-border-color: transparent,
    active-color: $white,
    active-bg: rgba($white, 0.4),
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "transparent": (
    color: $white,
    bg: transparent,
    border-color: transparent,
    hover-color: $white,
    hover-bg: rgba($white, 0.2),
    hover-border-color: transparent,
    active-color: $white,
    active-bg: rgba($white, 0.4),
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-primary": (
    color: $white,
    bg: $error-600,
    border-color: transparent,
    hover-color: $white,
    hover-bg: $error-700,
    hover-border-color: transparent,
    active-color: $white,
    active-bg: $error-900,
    active-border-color: transparent,
    disabled-color: rgba($white, 0.4),
    disabled-bg: rgba($error-600, 0.2),
    disabled-border-color: transparent
  ),
  "destructive-secondary": (
    color: $error-700,
    bg: $error-50,
    border-color: transparent,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: transparent,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: transparent,
    disabled-color: rgba($error-700, 0.4),
    disabled-bg: rgba($error-50, 0.2),
    disabled-border-color: transparent
  ),
  "destructive-outline-secondary": (
    color: $error-200,
    bg: transparent,
    border-color: $error-200,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: $error-200,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: $error-200,
    disabled-color: rgba($error-700, 0.4),
    disabled-bg: transparent,
    disabled-border-color: rgba($error-200, 0.4)
  ),
  "destructive-subtle": (
    color: $error-200,
    bg: transparent,
    border-color: transparent,
    hover-color: $error-700,
    hover-bg: $error-100,
    hover-border-color: transparent,
    active-color: $error-700,
    active-bg: $error-200,
    active-border-color: transparent,
    disabled-color: rgba($error-200, 0.4),
    disabled-bg: transparent,
    disabled-border-color: transparent
  ),
  "destructive-transparent": (
    color: $error-200,
    bg: transparent,
    border-color: transparent,
    hover-color: $error-300,
    hover-bg: transparent,
    hover-border-color: transparent,
    active-color: $error-400,
    active-bg: transparent,
    active-border-color: transparent,
    disabled-color: rgba($error-200, 0.4),
    disabled-bg: transparent,
    disabled-border-color: transparent
  )
);

// Generate button variant classes
@each $name, $props in $button-variants {
  .btn-#{$name} {
    --#{$prefix}btn-color: #{map-get($props, color)};
    --#{$prefix}btn-bg: #{map-get($props, bg)};
    --#{$prefix}btn-border-color: #{map-get($props, border-color)};
    --#{$prefix}btn-hover-color: #{map-get($props, hover-color)};
    --#{$prefix}btn-hover-bg: #{map-get($props, hover-bg)};
    --#{$prefix}btn-hover-border-color: #{map-get($props, hover-border-color)};
    --#{$prefix}btn-focus-shadow-rgb: #{map-get($props, focus-shadow-rgb)};
    --#{$prefix}btn-active-color: #{map-get($props, active-color)};
    --#{$prefix}btn-active-bg: #{map-get($props, active-bg)};
    --#{$prefix}btn-active-border-color: #{map-get($props, active-border-color)};
    --#{$prefix}btn-disabled-color: #{map-get($props, disabled-color)};
    --#{$prefix}btn-disabled-bg: #{map-get($props, disabled-bg)};
    --#{$prefix}btn-disabled-border-color: #{map-get($props, disabled-border-color)};
  };
}

.on-primary {
  @each $name, $props in $on-primary-button-variants  {
    .btn-#{$name} {
      --#{$prefix}btn-color: #{map-get($props, color)};
      --#{$prefix}btn-bg: #{map-get($props, bg)};
      --#{$prefix}btn-border-color: #{map-get($props, border-color)};
      --#{$prefix}btn-hover-color: #{map-get($props, hover-color)};
      --#{$prefix}btn-hover-bg: #{map-get($props, hover-bg)};
      --#{$prefix}btn-hover-border-color: #{map-get($props, hover-border-color)};
      --#{$prefix}btn-focus-shadow-rgb: #{map-get($props, focus-shadow-rgb)};
      --#{$prefix}btn-active-color: #{map-get($props, active-color)};
      --#{$prefix}btn-active-bg: #{map-get($props, active-bg)};
      --#{$prefix}btn-active-border-color: #{map-get($props, active-border-color)};
      --#{$prefix}btn-disabled-color: #{map-get($props, disabled-color)};
      --#{$prefix}btn-disabled-bg: #{map-get($props, disabled-bg)};
      --#{$prefix}btn-disabled-border-color: #{map-get($props, disabled-border-color)};
    }
  };
}

// ============================================
// CUSTOM BUTTON SIZES
// ============================================

.btn-xs {
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
  line-height: 1.4;
  border-radius: $radius-sm;
}

// ============================================
// BUTTON ICON UTILITIES
// ============================================
// Icon-only buttons (square buttons with icon)
.btn-icon {
  display: inline-flex;
  align-items: center;
  gap: .25rem;
  
  &.btn-lg {
    padding: 0.75rem;
  }
  
  &.btn-sm {
    padding: 0.375rem;
  }
  
  &.btn-xs {
    padding: 0.25rem;
  }
}

// ============================================
// Dropdown
// ============================================

.dropdown-toggle{
  display: inline-flex;
  align-items: center;
  gap: .25rem;
}

.dropdown-menu{
  text-align: $body-text-align;

  [dir="rtl"] & {
    inset: 0 0 auto auto !important;
  }
}
